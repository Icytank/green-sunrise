---
import { t, type TranslationKey } from "src/utils/i18n-helpers";
import SectionHeader from "./SectionHeader.astro";

interface Props {
  lang: "bg" | "en";
}

const { lang } = Astro.props;

const tr = (key: string) => t(`about.values.${key}` as TranslationKey, lang);

const values = [
  { key: 'quality', icon: '‚≠ê' },
  { key: 'team', icon: 'üë∑' },
  { key: 'capability', icon: 'üöú' },
  { key: 'integrity', icon: 'ü§ù' },
  { key: 'responsibility', icon: 'üå±' },
];
---

<section id="values">
    <div class="cs-container">
        <SectionHeader
            label={tr("label")}
            title={tr("title")}
            description=""
            align="center"
            withStamp={false}
        />

        <ul class="cs-card-group">
            {values.map((v) => (
                <li class="cs-item">
                    <span class="cs-icon">{v.icon}</span>
                    <h3 class="cs-h3">{tr(`list.${v.key}.title`)}</h3>
                    <p class="cs-text">{tr(`list.${v.key}.desc`)}</p>
                </li>
            ))}
        </ul>
    </div>
</section>

<style lang="less">
    #values {
        padding: var(--gs-section-padding);
        background-color: var(--gs-executive-white);
    }

    .cs-container {
        width: 100%;
        max-width: (1280/16rem);
        margin: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: clamp(3rem, 6vw, 4rem);
    }

    .cs-card-group {
        width: 100%;
        padding: 0;
        margin: 0;
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: var(--gs-space-4);
    }

    .cs-item {
        list-style: none;
        text-align: center;
        padding: var(--gs-space-6) var(--gs-space-4);
        background-color: #fff;
        border-radius: 8px;
        border: 1px solid var(--gs-border);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        
        grid-column: span 12;
        
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--gs-space-2);
        
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;

        &:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-color: var(--gs-institutional-green);
        }

        /* Tablet - 2 cols */
        @media only screen and (min-width: 48rem) {
            grid-column: span 6;
        }

        /* Desktop - 3 cols (centering last row of 2 if possible, otherwise just 3 cols) */
        /* For 5 items:
           Row 1: 3 items
           Row 2: 2 items (centered?) - Grid makes text centering easy, but row centering requires flex or clever grid.
           Let's use a 6-col grid logic or just stick to 4-span (3 cols) and accept the gap.
           Actually, let's try to center logic:
           Use Flex for the group?
        */
    }

    /* Override grid for centered flex behavior on desktop to handle 5 items nicely? */
    @media only screen and (min-width: 64rem) {
        .cs-card-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        .cs-item {
            width: calc(33.33% - var(--gs-space-4));
            max-width: (400/16rem);
        }
    }

    .cs-icon {
        font-size: 3rem;
        margin-bottom: var(--gs-space-2);
        display: block;
        line-height: 1;
    }

    .cs-h3 {
        font-size: var(--gs-text-h4);
        font-weight: 700;
        color: var(--gs-text-primary);
        margin: 0;
    }

    .cs-text {
        font-size: var(--gs-text-base);
        color: var(--gs-text-secondary);
        line-height: var(--gs-leading-body);
        margin: 0;
        max-width: (300/16rem);
    }
</style>
