---
import Meta from "@components/Meta/Meta.astro";
import translations from "@data/translations.json";

// Default to BG for root metadata (primary audience)
const lang = "bg";
const t = translations[lang].home;
---

<!DOCTYPE html>
<html lang={lang}>
<head>
    <!-- SEO & Meta Tags -->
    <Meta 
        title={t.pageTitle} 
        description={t.pageDescription} 
        lang={lang}
    />
    
    <!-- Default fallback to BG if JS is disabled -->
    <meta http-equiv="refresh" content="0;url=/bg" />
    
    <script>
        import { getPreferredLanguage } from '../utils/i18n-helpers';
        
        // Check stored preference
        const preferred = getPreferredLanguage();
        
        if (preferred === 'en') {
            window.location.replace('/en');
        } else {
            // Default to BG
            window.location.replace('/bg');
        }
    </script>
</head>
<body>
    <p>Redirecting...</p>
</body>
</html>
